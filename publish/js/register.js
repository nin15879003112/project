"use strict";var username=document.getElementById("username"),tel=document.getElementById("tel"),password=document.getElementById("password"),passwordAgain=document.getElementById("passwordAgain"),submitBtn=document.getElementById("submitBtn"),user_lock=!1,pass_lock=!1;username.onblur=function(){var e=username.value;if(!/^[^\d]\w{5,15}$/.test(e))return username.style.border="red solid 1px",username.placeholder="请输入正确格式",username.value="",void(user_lock=!1);QF.pGet("../php/checkusername.php",{username:e}).then(function(e){if(e.error)return console.log(e.error),username.style.border="red solid 1px",username.placeholder="用户名已存在",void(username.value="");console.log(e.error),user_lock=!0}).catch(function(e){console.log(e),user_lock=!1})},username.onfocus=function(){username.style.border="gray solid 1px"},tel.onblur=function(){console.log(1);var e=tel.value;if(!/^1\d{10}$/.test(e))return tel.style.border="red solid 1px",tel.placeholder="您输入手机号有误",void(tel.value="")},tel.onfocus=function(){tel.style.border="gray solid 1px"},password.onblur=function(){var e=password.value;if(!/^[^\d]\w{5,15}$/.test(e))return password.style.border="red solid 1px",password.placeholder="密码强度较弱",password.value="",void(pass_lock=!1);pass_lock=!0},passwordAgain.onblur=function(){if(passwordAgain.value!=password.value)return passwordAgain.style.border="red solid 1px",passwordAgain.placeholder="两次输入的密码不符",password.value="",passwordAgain.value="",void(pass_lock=!1);pass_lock=!0},password.onfocus=function(){password.style.border="gray solid 1px"},submitBtn.onclick=function(){user_lock&&pass_lock&&QF.pPost("../php/regist.php",{username:username.value,password:password.value}).then(function(e){if(e.error)throw new Error(e.msg);alert("注册成功，点击确认跳转到登录界面"),location.href="login.html"}).catch(function(e){alert("注册失败")})};